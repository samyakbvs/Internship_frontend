{"ast":null,"code":"var _jsxFileName = \"/Users/samyakjain/Desktop/Metacube/Internship_frontend/src/Post/Components/UploadPost.js\";\nimport React, { Component } from 'react';\nimport PostService from '../Action/PostService';\nimport $ from 'jquery';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/auth';\nimport { Form, Col, Button, Navbar, Nav, NavDropdown, InputGroup } from 'react-bootstrap';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport bsCustomFileInput from 'bs-custom-file-input';\nconst postService = new PostService();\n\nclass UploadPost extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validateName = Name => {\n      if (Name.length < 5) {\n        return false;\n      }\n\n      var regex = /^[A-Za-z ]+$/;\n\n      if (!regex.test(Name.replace(\" \", \"\"))) {\n        return false;\n      }\n\n      return true;\n    };\n\n    this.validateAuthor = Author => {\n      if (Author.length < 5) {\n        return false;\n      }\n\n      var regex = /^[A-Za-z ]+$/;\n\n      if (!regex.test(Author.replace(\" \", \"\"))) {\n        return false;\n      }\n\n      return true;\n    };\n\n    this.validateDescription = Description => {\n      if (Description.length < 20) {\n        return false;\n      }\n\n      return true;\n    };\n\n    this.handleChange = e => {\n      var validator = false;\n\n      if (e.target.id === \"Name\") {\n        if (this.validateName(e.target.value)) {\n          validator = true;\n          $(\"#\" + e.target.id + \"Text\").addClass(\"ops\");\n        } else {\n          $(\"#\" + e.target.id + \"Text\").removeClass(\"ops\");\n        }\n      }\n\n      if (e.target.id === \"Author\") {\n        if (this.validateAuthor(e.target.value)) {\n          validator = true;\n          $(\"#\" + e.target.id + \"Text\").addClass(\"ops\");\n        } else {\n          $(\"#\" + e.target.id + \"Text\").removeClass(\"ops\");\n        }\n      }\n\n      if (e.target.id === \"Description\") {\n        if (this.validateDescription(e.target.value)) {\n          validator = true;\n          $(\"#\" + e.target.id + \"Text\").addClass(\"ops\");\n        } else {\n          $(\"#\" + e.target.id + \"Text\").removeClass(\"ops\");\n        }\n      }\n\n      if (validator) {\n        this.setState({\n          [e.target.id]: e.target.value\n        });\n      } else {\n        console.log(\"blah\");\n      }\n    };\n\n    this.handleFileChange = e => {\n      this.setState({\n        [e.target.id]: e.target.files[0]\n      });\n      console.log(e.target.id);\n    };\n\n    this.handleSubmit = e => {\n      var today = new Date();\n      var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate() + \"T\" + today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds() + \"Z\";\n      let form_data = new FormData();\n      form_data.append('Name', this.state.Name);\n      form_data.append('Init_time', date);\n      form_data.append('Author', this.state.Author);\n      form_data.append('Description', this.state.Description);\n\n      if (this.state.Video != null) {\n        form_data.append('Video', this.state.Video, this.state.Video.name);\n      }\n\n      if (this.state.Image != null) {\n        form_data.append('Image', this.state.Image, this.state.Image.name);\n      }\n\n      if (this.state.Doc != null) {\n        form_data.append('Doc', this.state.Doc, this.state.Doc.name);\n      }\n\n      console.log(this.state);\n      postService.createPost(form_data);\n      e.preventDefault();\n    };\n\n    this.onChangeHandler = event => {};\n\n    this.state = {\n      Name: \"\",\n      Init_time: \"\",\n      Author: \"\",\n      Description: \"\",\n      Video: null,\n      Image: null,\n      Doc: null\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    $(document).ready(function () {\n      bsCustomFileInput.init();\n    });\n  }\n\n  render() {\n    return React.createElement(\"body\", {\n      className: \"uploadBody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      collapseOnSelect: true,\n      expand: \"lg\",\n      bg: \"dark\",\n      variant: \"dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Home\")), React.createElement(Navbar.Toggle, {\n      \"aria-controls\": \"responsive-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(Navbar.Collapse, {\n      id: \"responsive-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/posts/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Docs\")), React.createElement(Nav.Link, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Upload/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Upload\")), React.createElement(Nav.Link, {\n      onClick: this.props.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Logout\"))))), React.createElement(\"div\", {\n      style: {\n        backgroundColor: '#e9ecef',\n        borderRadius: 20\n      },\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Form, {\n      style: {\n        marginTop: 50,\n        padding: 30\n      },\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \" Upload material\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Title\",\n      id: \"Name\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), React.createElement(Form.Text, {\n      id: \"NameText\",\n      className: \"text-muted ops\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Min length - 5 & No special chars allowed\")), React.createElement(Form.Group, {\n      as: Col,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Author\",\n      id: \"Author\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), React.createElement(Form.Text, {\n      id: \"AuthorText\",\n      className: \"text-muted ops\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Min length - 5 & No special chars allowed\"))), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      as: \"textarea\",\n      rows: \"3\",\n      placeholder: \"Description\",\n      id: \"Description\",\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }), React.createElement(Form.Text, {\n      id: \"DescriptionText\",\n      className: \"text-muted ops\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Min length - 20\")), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridCity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(Form.File, {\n      onChange: this.handleFileChange,\n      id: \"Video\",\n      label: \"Video\",\n      \"data-browse\": \"Add\",\n      accept: \".mp4,.mkv,.avi\",\n      custom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridState\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, React.createElement(Form.File, {\n      onChange: this.handleFileChange,\n      id: \"Image\",\n      label: \"Image\",\n      \"data-browse\": \"Add\",\n      accept: \".gif,.jpg,.jpeg,.png,.svg\",\n      custom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridZip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(Form.File, {\n      onChange: this.handleFileChange,\n      id: \"Doc\",\n      label: \"Docs\",\n      \"data-browse\": \"Add\",\n      accept: \".docx,.pages,.py\",\n      custom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(Form.Text, {\n      id: \"SubmitText\",\n      className: \"text-muted ops\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Please Re-Check your form\"))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch(actions.logout())\n  };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(UploadPost));","map":{"version":3,"sources":["/Users/samyakjain/Desktop/Metacube/Internship_frontend/src/Post/Components/UploadPost.js"],"names":["React","Component","PostService","$","Link","withRouter","connect","actions","Form","Col","Button","Navbar","Nav","NavDropdown","InputGroup","Formik","yup","bsCustomFileInput","postService","UploadPost","constructor","props","validateName","Name","length","regex","test","replace","validateAuthor","Author","validateDescription","Description","handleChange","e","validator","target","id","value","addClass","removeClass","setState","console","log","handleFileChange","files","handleSubmit","today","Date","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","form_data","FormData","append","state","Video","name","Image","Doc","createPost","preventDefault","onChangeHandler","event","Init_time","bind","componentDidMount","document","ready","init","render","logout","backgroundColor","borderRadius","marginTop","padding","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import  React, { Component } from  'react';\nimport  PostService  from  '../Action/PostService';\nimport $ from 'jquery';\nimport {Link,withRouter} from 'react-router-dom'\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/auth';\nimport {Form,Col,Button,Navbar,Nav,NavDropdown,InputGroup} from 'react-bootstrap';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\n\nimport bsCustomFileInput from 'bs-custom-file-input'\n\nconst  postService  =  new  PostService();\n\n\nclass  UploadPost  extends  Component {\n\n\n\n\nconstructor(props) {\n    super(props);\n\n    this.state = {\n      Name: \"\",\n      Init_time: \"\",\n      Author: \"\",\n      Description: \"\",\n      Video: null,\n      Image: null,\n      Doc: null\n\n      };\nthis.handleSubmit = this.handleSubmit.bind(this)\n}\n\ncomponentDidMount() {\n\n  $(document).ready(function () {\n    bsCustomFileInput.init()\n  })\n}\n\nvalidateName = (Name) => {\n  if (Name.length < 5){\n    return false\n  }\n  var regex = /^[A-Za-z ]+$/\n  if (!regex.test(Name.replace(\" \",\"\"))) {\n    return false\n  }\n  return true\n}\n\nvalidateAuthor = (Author) => {\n  if (Author.length < 5){\n    return false\n  }\n  var regex = /^[A-Za-z ]+$/\n  if (!regex.test(Author.replace(\" \",\"\"))) {\n    return false\n  }\n  return true\n}\n\nvalidateDescription = (Description) => {\n  if (Description.length < 20){\n    return false\n  }\n  return true\n}\n\nhandleChange = (e) => {\n  var validator = false\n  if (e.target.id === \"Name\") {\n    if (this.validateName(e.target.value)) {\n      validator = true\n      $(\"#\"+e.target.id+\"Text\").addClass(\"ops\")\n    }else{\n      $(\"#\"+e.target.id+\"Text\").removeClass(\"ops\")\n\n    }\n  }\n  if (e.target.id === \"Author\") {\n    if (this.validateAuthor(e.target.value)) {\n      validator = true\n      $(\"#\"+e.target.id+\"Text\").addClass(\"ops\")\n    }else{\n      $(\"#\"+e.target.id+\"Text\").removeClass(\"ops\")\n    }\n  }\n  if (e.target.id === \"Description\") {\n    if (this.validateDescription(e.target.value)) {\n      validator = true\n      $(\"#\"+e.target.id+\"Text\").addClass(\"ops\")\n    }else{\n      $(\"#\"+e.target.id+\"Text\").removeClass(\"ops\")\n    }\n  }\n  if (validator) {\n    this.setState({\n      [e.target.id]: e.target.value\n    })\n  } else {\nconsole.log(\"blah\")\n  }\n\n\n};\n\nhandleFileChange = (e) => {\n  this.setState({\n  [e.target.id]: e.target.files[0]\n\n  })\n  console.log(e.target.id)\n};\n\nhandleSubmit = (e) => {\n  var today = new Date()\n  var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate() + \"T\" + today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds() +\"Z\";\n\n  let form_data = new FormData();\n\n  form_data.append('Name', this.state.Name);\n  form_data.append('Init_time', date);\n  form_data.append('Author', this.state.Author);\n  form_data.append('Description', this.state.Description);\n  if (this.state.Video != null) {\n    form_data.append('Video', this.state.Video, this.state.Video.name);\n  }\nif (this.state.Image != null) {\n  form_data.append('Image', this.state.Image, this.state.Image.name);\n\n}\nif (this.state.Doc != null) {\n  form_data.append('Doc', this.state.Doc, this.state.Doc.name);\n}\n\n\nconsole.log(this.state)\npostService.createPost(form_data)\n\n  e.preventDefault()\n\n\n\n\n};\n\n\nonChangeHandler=event=>{\n\n}\n\n\nrender() {\n\n\n    return (\n\n\n    <body className=\"uploadBody\">\n\n\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n      <Navbar.Brand ><Link to=\"/\">Home</Link></Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\n\n        <Nav>\n          <Nav.Link ><Link to=\"/posts/\">Docs</Link></Nav.Link>\n          <Nav.Link ><Link to=\"/Upload/\">\n            Upload\n          </Link></Nav.Link>\n          <Nav.Link onClick={this.props.logout} >\n              <Link to=\"/\">Logout</Link>\n            </Nav.Link>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n\n    <div style={{backgroundColor:'#e9ecef',borderRadius: 20}}className=\"container\">\n\n\n    <Form style={{marginTop:50,padding:30}} onSubmit =  {this.handleSubmit}>\n  <h1> Upload material</h1>\n  <br/>\n      <Form.Row>\n        <Form.Group as={Col} >\n\n          <Form.Control type=\"text\" placeholder=\"Title\" id=\"Name\"\n          onChange = {this.handleChange}\n          autoComplete = \"off\"\n          />\n        <Form.Text id=\"NameText\" className=\"text-muted ops\">\n      Min length - 5 & No special chars allowed\n    </Form.Text>\n        </Form.Group>\n\n\n        <Form.Group as={Col} >\n\n          <Form.Control type=\"text\" placeholder=\"Author\" id=\"Author\"\n          onChange = {this.handleChange}\n          autoComplete = \"off\"\n          />\n        <Form.Text id=\"AuthorText\" className=\"text-muted ops\">\n      Min length - 5 & No special chars allowed\n    </Form.Text>\n        </Form.Group>\n      </Form.Row>\n\n      <Form.Group >\n\n        <Form.Control as=\"textarea\" rows=\"3\" placeholder=\"Description\" id=\"Description\"\n        onChange = {this.handleChange}\n        autoComplete = \"off\"\n        />\n      <Form.Text id=\"DescriptionText\"className=\"text-muted ops\">\n    Min length - 20\n  </Form.Text>\n      </Form.Group>\n\n\n\n      <Form.Row >\n        <Form.Group as={Col} controlId=\"formGridCity\">\n        <Form.File\n        onChange = {this.handleFileChange}\n           id=\"Video\"\n\n           label=\"Video\"\n           data-browse=\"Add\"\n            accept=\".mp4,.mkv,.avi\"\n           custom\n         />\n        </Form.Group>\n\n        <Form.Group as={Col} controlId=\"formGridState\">\n        <Form.File\n        onChange = {this.handleFileChange}\n           id=\"Image\"\n           label=\"Image\"\n           data-browse=\"Add\"\n           accept=\".gif,.jpg,.jpeg,.png,.svg\"\n\n           custom\n\n\n         />\n        </Form.Group>\n\n        <Form.Group as={Col} controlId=\"formGridZip\">\n        <Form.File\n          onChange = {this.handleFileChange}\n           id=\"Doc\"\n           label=\"Docs\"\n           data-browse=\"Add\"\n           accept=\".docx,.pages,.py\"\n           custom\n\n         />\n        </Form.Group>\n      </Form.Row>\n      <br/>\n\n      <Button variant=\"primary\" type=\"submit\">\n        Submit\n      </Button>\n\n      <Form.Text id=\"SubmitText\" className=\"text-muted ops\">\n    Please Re-Check your form\n  </Form.Text>\n    </Form>\n\n\n  </div>\n\n  </body>\n\n\n\n\n  );\n\n\n  }\n}\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tlogout: () => dispatch(actions.logout())\n\t};\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(UploadPost));\n"]},"metadata":{},"sourceType":"module"}