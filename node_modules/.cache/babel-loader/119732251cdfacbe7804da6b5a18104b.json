{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = errorManager;\n\nvar _errToJSON = _interopRequireDefault(require(\"./utils/errToJSON\"));\n\nvar _paths = require(\"./utils/paths\");\n\nvar _ErrorUtils = require(\"./utils/ErrorUtils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar isValidationError = function isValidationError(err) {\n  return err && err.name === 'ValidationError';\n};\n\nfunction errorManager(handleValidation) {\n  return {\n    collect: function collect(paths, pristineErrors, options) {\n      if (pristineErrors === void 0) {\n        pristineErrors = _ErrorUtils.EMPTY_ERRORS;\n      }\n\n      paths = (0, _paths.reduce)([].concat(paths));\n\n      var errors = _extends({}, pristineErrors);\n\n      var nextErrors = errors;\n      var workDone = false;\n      paths.forEach(function (path) {\n        nextErrors = (0, _paths.trim)(path, nextErrors);\n        if (errors !== nextErrors) workDone = true;\n      });\n      var validations = paths.map(function (path) {\n        return Promise.resolve(handleValidation(path, options)).then(function (validationError) {\n          if (!validationError) return true;\n          if (!isValidationError(validationError)) throw validationError;\n          (0, _errToJSON.default)(validationError, nextErrors);\n        });\n      });\n      return Promise.all(validations).then(function (results) {\n        if (!workDone && results.every(Boolean)) return pristineErrors;\n        return nextErrors;\n      });\n    }\n  };\n}\n\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["/Users/samyakjain/Desktop/Metacube/Internship_frontend/node_modules/react-formal/lib/errorManager.js"],"names":["exports","__esModule","default","errorManager","_errToJSON","_interopRequireDefault","require","_paths","_ErrorUtils","obj","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","isValidationError","err","name","handleValidation","collect","paths","pristineErrors","options","EMPTY_ERRORS","reduce","concat","errors","nextErrors","workDone","forEach","path","trim","validations","map","Promise","resolve","then","validationError","all","results","every","Boolean","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = errorManager;\n\nvar _errToJSON = _interopRequireDefault(require(\"./utils/errToJSON\"));\n\nvar _paths = require(\"./utils/paths\");\n\nvar _ErrorUtils = require(\"./utils/ErrorUtils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar isValidationError = function isValidationError(err) {\n  return err && err.name === 'ValidationError';\n};\n\nfunction errorManager(handleValidation) {\n  return {\n    collect: function collect(paths, pristineErrors, options) {\n      if (pristineErrors === void 0) {\n        pristineErrors = _ErrorUtils.EMPTY_ERRORS;\n      }\n\n      paths = (0, _paths.reduce)([].concat(paths));\n\n      var errors = _extends({}, pristineErrors);\n\n      var nextErrors = errors;\n      var workDone = false;\n      paths.forEach(function (path) {\n        nextErrors = (0, _paths.trim)(path, nextErrors);\n        if (errors !== nextErrors) workDone = true;\n      });\n      var validations = paths.map(function (path) {\n        return Promise.resolve(handleValidation(path, options)).then(function (validationError) {\n          if (!validationError) return true;\n          if (!isValidationError(validationError)) throw validationError;\n          (0, _errToJSON.default)(validationError, nextErrors);\n        });\n      });\n      return Promise.all(validations).then(function (results) {\n        if (!workDone && results.every(Boolean)) return pristineErrors;\n        return nextErrors;\n      });\n    }\n  };\n}\n\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}